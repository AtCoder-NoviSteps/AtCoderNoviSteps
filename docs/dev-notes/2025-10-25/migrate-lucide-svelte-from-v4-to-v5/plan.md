# lucide-svelte ã‹ã‚‰ @lucide/svelte ã¸ã®ç§»è¡Œè¨ˆç”»

## ğŸ“‹ æ¦‚è¦

**ç¾çŠ¶**: Svelte 5.41.4 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ Svelte 4 ç”¨ã® `lucide-svelte@0.548.0` ã‚’ä½¿ç”¨
**ç›®æ¨™**: Svelte 5 ã«æœ€é©åŒ–ã—ãŸ `@lucide/svelte` ã«ç§»è¡Œã—ã€ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã‚’å‰Šæ¸›

---

## ğŸ¯ ç§»è¡Œã®åˆ©ç‚¹

- âœ… **Svelte 5 ã«æœ€é©åŒ–**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
- âœ… **ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå‰Šæ¸›**: tree-shaking ã«ã‚ˆã‚‹åŠ¹ç‡åŒ–
- âœ… **å‹å®‰å…¨æ€§**: TypeScript ã®å‹å®šç¾©ãŒæ”¹å–„
- âœ… **ã‚¢ã‚¤ã‚³ãƒ³ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**: `@lucide/svelte/icons` ã‹ã‚‰ã®è»½é‡ã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯¾å¿œ

---

## ğŸ“ æŠ€è¡“çš„èƒŒæ™¯

### ç¾åœ¨ã®çŠ¶æ³

```json
{
  "dependencies": {
    "lucide-svelte": "^0.548.0" // Svelte 4 ç”¨
  },
  "devDependencies": {
    "svelte": "5.41.4" // Svelte 5
  }
}
```

**å•é¡Œç‚¹**:

- ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ `lucide-svelte/icons/arrow-right` ãŒ Svelte 5 ã§ã¯è§£æ±ºã•ã‚Œãªã„
- ãƒãƒ³ãƒ‰ãƒ«ãŒä¸å¿…è¦ã«å¤§ãããªã‚‹å¯èƒ½æ€§

### æ–°ã—ã„æ§‹æˆ

```json
{
  "dependencies": {
    "@lucide/svelte": "latest" // Svelte 5 å°‚ç”¨
  },
  "devDependencies": {
    "svelte": "5.41.4"
  }
}
```

---

## ğŸ”„ ç§»è¡Œæ‰‹é †

### ãƒ•ã‚§ãƒ¼ã‚º 1: æº–å‚™

1. **ç¾åœ¨ã®çŠ¶æ…‹ã‚’ã‚³ãƒŸãƒƒãƒˆ**

   ```bash
   git status
   git add -A
   git commit -m "docs: add lucide-svelte migration plan"
   ```

2. **pnpm ã®ä¾å­˜é–¢ä¿‚ã‚’ãƒ­ãƒƒã‚¯**

   ```bash
   pnpm list lucide-svelte
   ```

   - ç¾åœ¨: `lucide-svelte@0.548.0` ã‚’ç¢ºèª

### ãƒ•ã‚§ãƒ¼ã‚º 2: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç½®ãæ›ãˆ

1. **å¤ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

   ```bash
   pnpm remove lucide-svelte
   ```

2. **æ–°ã—ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

   ```bash
   pnpm add @lucide/svelte
   ```

3. **lock ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ã‚’ç¢ºèª**

   ```bash
   pnpm list @lucide/svelte
   ```

   - `pnpm-lock.yaml` ãŒè‡ªå‹•ã§æ›´æ–°ã•ã‚Œã‚‹

### ãƒ•ã‚§ãƒ¼ã‚º 3: ã‚³ãƒ¼ãƒ‰ä¿®æ­£

#### 3-1. ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–¹å¼ã®ç¢ºèª

**ç¾åœ¨ã®ã‚³ãƒ¼ãƒ‰** (`src/routes/+page.svelte`):

```svelte
import ArrowRight from 'lucide-svelte/icons/arrow-right';
```

**ä¿®æ­£å¯¾è±¡**: å…¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡ã‚’ä»¥ä¸‹ã®å½¢å¼ã«çµ±ä¸€

- ã‚¢ã‚¤ã‚³ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆæ¨å¥¨ï¼‰

```svelte
import ArrowRight from '@lucide/svelte/icons/arrow-right';
```

**ä½¿ç”¨æ–¹æ³•**:

````svelte
<ArrowRight class="w-4 h-4" color="#ff3e98" />

#### 3-2. ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ã®ä¿®æ­£å¯¾è±¡ ```bash # lucide-svelte ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢ grep
-r "from 'lucide-svelte" src/ --include="*.svelte" --include="*.ts" --include="*.js"
````

**æƒ³å®šã•ã‚Œã‚‹ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:

- `src/routes/+page.svelte` - `ArrowRight` ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

### ãƒ•ã‚§ãƒ¼ã‚º 4: æ¤œè¨¼

1. **ãƒ“ãƒ«ãƒ‰ç¢ºèª**

   ```bash
   pnpm check
   ```

   - TypeScript ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèª

2. **ãƒ“ãƒ«ãƒ‰ã‚µã‚¤ã‚ºæ¸¬å®š**

   ```bash
   pnpm build
   ```

   - Vite ã®ãƒ“ãƒ«ãƒ‰ãƒ¬ãƒãƒ¼ãƒˆã§ lucide é–¢é€£ã®ã‚µã‚¤ã‚ºã‚’ç¢ºèª

3. **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•**

   ```bash
   pnpm dev
   ```

   - ãƒ–ãƒ©ã‚¦ã‚¶ã§ç”»é¢ã‚’ç¢ºèª
   - Console ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèª

4. **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**

   ```bash
   pnpm test:unit
   ```

5. **E2E ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**

   ```bash
   pnpm test:integration
   ```

### ãƒ•ã‚§ãƒ¼ã‚º 5: å®Œäº†

1. **å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ**

   ```bash
   git add package.json pnpm-lock.yaml src/routes/+page.svelte
   git commit -m "refactor: migrate lucide-svelte to @lucide/svelte for Svelte 5"
   ```

2. **å‹•ä½œç¢ºèª**
   - ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ†ã‚¹ãƒˆ

---

## ğŸ“Œ pnpm ç‰¹æœ‰ã®æ³¨æ„äº‹é …

### âœ… è‡ªå‹•å‡¦ç†

- **lock ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°**: `pnpm-lock.yaml` ã¯è‡ªå‹•æ›´æ–°
- **å‹å®šç¾©**: `@lucide/svelte` ã«å«ã¾ã‚Œã‚‹ `.d.ts` ã¯è‡ªå‹•ã§èªè­˜

### âš ï¸ ç¢ºèªãŒå¿…è¦ãªç‚¹

| é …ç›®                       | å†…å®¹                                                            | å¯¾å¿œ                        |
| -------------------------- | --------------------------------------------------------------- | --------------------------- |
| **ã‚¹ã‚³ãƒ¼ãƒ—ä»˜ããƒ‘ãƒƒã‚±ãƒ¼ã‚¸** | `@lucide/svelte` ã¯ `node_modules/.pnpm/@lucide+svelte/` ã«é…ç½® | é€šå¸¸ã€å•é¡Œãªã—              |
| **CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**     | `pnpm install --frozen-lockfile` ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆ             | lock ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°å¾Œã«å†å®Ÿè¡Œ |
| **Workspace è¨­å®š**         | ç¾åœ¨ monorepo ã§ãªã„                                            | å½±éŸ¿ãªã—                    |

### ç¢ºèªã‚³ãƒãƒ³ãƒ‰

```bash
# ä¾å­˜é–¢ä¿‚ã®ç¢ºèª
pnpm list @lucide/svelte

# node_modules ã®æ§‹é€ ç¢ºèª
ls -la node_modules/@lucide/

# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ï¼ˆå•é¡ŒãŒå‡ºãŸå ´åˆï¼‰
pnpm store prune
pnpm install
```

---

## ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

| ãƒ¡ãƒˆãƒªã‚¯ã‚¹                   | ç¾åœ¨                        | æœŸå¾…å€¤          |
| ---------------------------- | --------------------------- | --------------- |
| **ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º**           | ä¸æ˜ï¼ˆSvelte 4 ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ | å‰Šæ¸›äºˆæƒ³ 15-25% |
| **ãƒ“ãƒ«ãƒ‰æ™‚é–“**               | -                           | è‹¥å¹²æ”¹å–„        |
| **å‹å®‰å…¨æ€§**                 | æ¨™æº–                        | å‘ä¸Š            |
| **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | -                           | Svelte 5 æœ€é©åŒ– |

---

## ğŸš¨ ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯                   | å¯èƒ½æ€§ | å¯¾ç­–                      |
| ------------------------ | ------ | ------------------------- |
| **ã‚¤ãƒ³ãƒãƒ¼ãƒˆçµŒè·¯ã®æ¼ã‚Œ** | ä¸­     | grep ã§å…¨ä½“æ¤œç´¢ç¢ºèª       |
| **äº’æ›æ€§å•é¡Œ**           | ä½     | E2E ãƒ†ã‚¹ãƒˆã§ç¢ºèª          |
| **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä¸å…·åˆ**   | ä½     | `pnpm store prune` ã§å¯¾å¿œ |
| **CI/CD å¤±æ•—**           | ä½     | lock ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ç¢ºèª     |

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [lucide-svelte å…¬å¼ã‚¬ã‚¤ãƒ‰](https://lucide.dev/guide/packages/lucide-svelte)
- [Svelte 5 ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³](https://svelte.dev/docs/migration-guide)
- [pnpm ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://pnpm.io/)

---

## âœ¨ è¿½åŠ ã®æ”¹å–„æ©Ÿä¼š

ç§»è¡Œå¾Œã«æ¤œè¨ã™ã‚‹é …ç›®ï¼š

- [ ] ä»–ã® Svelte 4 ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãªã„ã‹ç¢ºèª
- [ ] `svelte-5-ui-lib` ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªï¼ˆæœ€æ–°ç‰ˆã«å¯¾å¿œã—ã¦ã„ã‚‹ã‹ï¼‰
- [ ] TypeScript å³æ ¼ãƒ¢ãƒ¼ãƒ‰ã§ã®å‹ãƒã‚§ãƒƒã‚¯å¼·åŒ–
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºæ¸¬å®šãƒ„ãƒ¼ãƒ« (Bundle Analyzer) ã®å°å…¥

---

**æ›´æ–°æ—¥**: 2025-10-25
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸ“ è¨ˆç”»æ®µéš â†’ ğŸ”„ å®Ÿè¡Œæº–å‚™ä¸­ â†’ âœ… å®Œäº†äºˆå®š
